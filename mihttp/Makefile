# -*- Makefile -*-
# Automatically generated by: ./genrules -I ../Platform/Platform.fsproj -I ../CoreCrypto/CoreCrypto.fsproj -I ../lib/lib.fsproj mihttp.fsproj
# Generated on Thu Nov 14 10:11:23 2013
# Use [make regen] to regenerate this Makefile

include ../Makefile.config

lib7      = ../../../lib/fs7-interfaces/
libperv   = $(lib7)pervasives.fs7 $(lib7)tuples.fs7
lperv     = -pervasives $(lib7)pervasives.fs7 -tuples $(lib7)tuples.fs7
libfs7    = $(lib7)pi.fs7 $(lib7)formulas.fs7
f7timeout = 5
f7defs    = avoid verify ideal

# removed --verbose for automated testing
override f7flags += \
  -timeout $(f7timeout) $(patsubst %,--define %,$(f7defs)) \
  -nokindcheck $(lperv) $(libfs7)

.PHONY: default clean check-xunit regen

-include Makefile.tc7

# default verification targets 
default: MiHTTPChannel.tc7

clean:
	rm -f *.smp *.tc7 *.why

regen:
	./genrules \
	  -I ../Platform/Platform.fsproj \
	  -I ../CoreCrypto/CoreCrypto.fsproj \
	  -I ../lib/lib.fsproj \
	    mihttp.fsproj > Makefile.mihttp.$$ \
	|| { rm -f Makefile.mihttp.$$; false; }
	mv Makefile.mihttp.$$ Makefile

# ----- BEGIN AUTO FS7 -----
check-xunit: clean
	../scripts/xunit-tc7 --xunit=$(xunit) 
# ----- END AUTO FS7 -----
